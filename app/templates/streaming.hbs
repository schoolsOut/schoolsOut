<Hero
  @title="Streaming Resources"
  @search={{this.setSearch}}
  @searchTerm={{this.search}}
  @searchPlaceholder="Find a video"
>
  <div class="table-nav">
    <div class="controls">
      <TableNav @page={{this.page}} @totalPages={{this.totalPages}} @prevPage={{this.prevPage}} @nextPage={{this.nextPage}} />
    </div>
  </div>
</Hero>

<div class="table-container">
  <table class="table is-striped is-hoverable">
    <thead>
      <tr>
        <th>Title</th>
        <th>Rating</th>
        <th>Topic</th>
        <th>Summary</th>
        <th><FilterHeading @state={{this.prime}} @route="streaming" @queryParam="prime" @label="Amazon Prime" /></th>
        <th><FilterHeading @state={{this.apple}} @route="streaming" @queryParam="apple" @label="AppleTV+" /></th>
        <th><FilterHeading @state={{this.disney}} @route="streaming" @queryParam="disney" @label="Disney+" /></th>
        <th><FilterHeading @state={{this.googlePlay}} @route="streaming" @queryParam="google" @label="Google Play" /></th>
        <th><FilterHeading @state={{this.netflix}} @route="streaming" @queryParam="netflix" @label="Netflix" /></th>
        <th><FilterHeading @state={{this.youtube}} @route="streaming" @queryParam="youtube" @label="YouTube" /></th>
      </tr>
    </thead>

    <tbody>
      {{#each this.videosToShow as |video|}}
        <tr>
          <td class="field-title">{{video.title}}</td>
          <td class="field-rating">{{video.rating}}</td>
          <td class="field-topic">{{video.topic}}</td>
          <td class="field-summary">{{video.summary}}</td>
          <td class="field-prime has-text-centered">{{#if video.prime}}{{fa-icon 'check-square'}}{{/if}}</td>
          <td class="field-apple has-text-centered">{{#if video.apple}}{{fa-icon 'check-square'}}{{/if}}</td>
          <td class="field-disney has-text-centered">{{#if video.disney}}{{fa-icon 'check-square'}}{{/if}}</td>
          <td class="field-googlePlay has-text-centered">{{#if video.googlePlay}}{{fa-icon 'check-square'}}{{/if}}</td>
          <td class="field-netflix has-text-centered">{{#if video.netflix}}{{fa-icon 'check-square'}}{{/if}}</td>
          <td class="field-youtube has-text-centered">{{#if video.youtube}}{{fa-icon 'check-square'}}{{/if}}</td>
        </tr>
      {{/each}}
    </tbody>
  </table>
</div>

{{outlet}}
